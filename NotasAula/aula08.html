
<!-- saved from url=(0075)http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <link href="./aula08_files/shCore.css" rel="stylesheet" type="text/css">
  <link href="./aula08_files/shThemeDefault.css" rel="stylesheet" type="text/css">
<style type="text/css"></style></head>

<body>

  <h2>Manipulação de polinômios:</h2>

Exemplo de manipulação de polinômios de grau n&#8805;0.
<p>
P(x) = a<sub>n</sub> x<sup>n</sup> + a<sub>n-1</sub> x<sup>n-1</sup> + ... + a<sub>1</sub> x<sup>1</sup> + a<sub>0</sub> x<sup>0</sup>
</p><p>
A solução a seguir usa listas circulares com nó–cabeça, 
a fim de utilizar a técnica de sentinelas. Consideramos que:
</p><ol>
<li>Cada nó representa um termo com coeficiente não nulo;</li>
<li>Os termos estão em ordem decrescente dos expoentes;</li>
<li>O nó–cabeça tem expoente –1 (conveniente para as operações).</li>
</ol> 

<h3>Definição típica da estrutura utilizada:</h3>

  <div><div id="highlighter_807948" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Termo{</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">coef;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">expo;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *prox;</code></div><div class="line number5 index4 alt2"><code class="c plain">};</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c keyword bold">typedef</code> <code class="c keyword bold">struct</code> <code class="c plain">Termo* Polinomio;</code></div></div></td></tr></tbody></table></div></div>

<h3>Alocando memória:</h3>

A função abaixo aloca dinamicamente memória para um dos termos 
do polinômio.

  <div><div id="highlighter_488251" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">struct</code> <code class="c plain">Termo *AlocaTermo(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = (</code><code class="c keyword bold">struct</code> <code class="c plain">Termo*)</code><code class="c functions bold">malloc</code><code class="c plain">(</code><code class="c keyword bold">sizeof</code><code class="c plain">(</code><code class="c keyword bold">struct</code> <code class="c plain">Termo));</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(p == NULL)</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">exit</code><code class="c plain">(1);</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number7 index6 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>

Para criar um polinômio nulo,
alocamos o nó–cabeça
com expoente –1:

  <div><div id="highlighter_30903" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio CriaPolinomioNulo(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = AlocaTermo();</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;coef = 0.0;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;expo = -1;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p-&gt;prox = p;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number8 index7 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Inserindo novo termo no polinômio:</h3>

Dado que os termos estão em ordem decrescente dos expoentes,
precisamos buscar a posição correta para efetuar
a inserção.

  <div><div id="highlighter_754442" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">void</code> <code class="c plain">InsereTermo(Polinomio p, </code><code class="c color1 bold">float</code> <code class="c plain">coef, </code><code class="c color1 bold">int</code> <code class="c plain">expo){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *t, *at,*q;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Aloca memória para o novo termo: */</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q = AlocaTermo();</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;coef = coef;</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;expo = expo;</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">/* Busca a posição correta para inserir o novo termo,</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">O novo termo será inserido entre os termos apontados </code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c comments">por at e t.</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c comments">*/</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">at = p;</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">t = p-&gt;prox;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(expo &lt; t-&gt;expo){</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">at = t;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = t-&gt;prox;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q-&gt;prox = t;</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">at-&gt;prox = q;</code></div><div class="line number19 index18 alt2"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Imprimindo o polinômio:</h3>

Exemplo de função que imprime o polinômio.


  <div><div id="highlighter_896361" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c keyword bold">void</code> <code class="c plain">ImprimePolinomio(Polinomio p){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *t;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">t = p-&gt;prox;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(t != p){</code></div><div class="line number6 index5 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"%.2f*x^%d"</code><code class="c plain">,t-&gt;coef,t-&gt;expo);</code></div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">t = t-&gt;prox;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(t != p){</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(t-&gt;coef &gt;= 0.0)</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">" + "</code><code class="c plain">);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">" "</code><code class="c plain">);</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c functions bold">printf</code><code class="c plain">(</code><code class="c string">"\n"</code><code class="c plain">);</code></div><div class="line number16 index15 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Criando um novo polinômio a partir de uma expressão (string):</h3>

A função abaixo lê expressões matemáticas em strings como "5.0*x^4 + 7.5*x^2 + 3.0*x^1", e gera a lista circular com nó–cabeça do polinômio correspondente.<br>
Ao invés de ler a expressão caracter por caracter, no código
abaixo usamos a função <b><code>sscanf</code></b>. 
A função <b><code>sscanf</code></b>
é similar a função  <b><code>scanf</code></b>,
porém, ao invés de ler a entrada padrão (teclado),
ela lê os dados diretamente de uma string (vetor), que é 
passada como o primeiro parâmetro do método.
O <b><code>"%n"</code></b> é usado para monitorar
a quantidade de caracteres lidos a cada execução 
do <b><code>sscanf</code></b>.
A variável <b><code>nn</code></b> é
usada como um contador (acumulador) do total de 
caracteres lidos. O valor de <b><code>nn</code></b> 
é utilizado como
índice na expressão,
permitindo avançar pela string
a cada chamada do <b><code>sscanf</code></b>.
Para isso, usamos a aritmética de ponteiros
<b><code>expr+nn</code></b>.

  <div><div id="highlighter_159923" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio CriaPolinomio(</code><code class="c color1 bold">char</code> <code class="c plain">expr[]){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p;</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">int</code> <code class="c plain">expo,r,n,nn;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">coef,sinal = 1.0;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">char</code> <code class="c plain">c;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">nn = 0;</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = CriaPolinomioNulo();</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(1){</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">r = </code><code class="c functions bold">sscanf</code><code class="c plain">(expr+nn,</code><code class="c string">" %f * x ^ %d %n"</code><code class="c plain">,&amp;coef, &amp;expo,&amp;n);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(r == 0 || r == EOF) </code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">nn += n;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(p, sinal*coef, expo);</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">r = </code><code class="c functions bold">sscanf</code><code class="c plain">(expr+nn,</code><code class="c string">"%c %n"</code><code class="c plain">,&amp;c,&amp;n);</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(r == EOF || r == 0)</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">break</code><code class="c plain">;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">nn += n;</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(c == </code><code class="c string">'-'</code><code class="c plain">)</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">sinal = -1.0;</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">sinal = 1.0;</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">p;</code></div><div class="line number28 index27 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Somando dois polinômios:</h3>

Exemplo de função que soma dois polinômios.
Ela percorre simultaneamente as duas listas somando 
os termos com expoentes iguais, e copiando de modo 
intercalado aqueles que não tem correspondente no outro.


  <div><div id="highlighter_323912" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c plain">Polinomio SomaPolinomios(Polinomio p,</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">Polinomio q){</code></div><div class="line number3 index2 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio r;</code></div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">struct</code> <code class="c plain">Termo *pp, *qq, *rr;</code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c color1 bold">float</code> <code class="c plain">cf;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">r = CriaPolinomioNulo();</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">rr = r;</code></div><div class="line number9 index8 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">pp = p-&gt;prox;</code></div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">qq = q-&gt;prox;</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">while</code><code class="c plain">(pp-&gt;expo &gt; -1 || qq-&gt;expo &gt; -1){</code></div><div class="line number12 index11 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(pp-&gt;expo &lt; qq-&gt;expo){</code></div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, qq-&gt;coef, qq-&gt;expo);</code></div><div class="line number14 index13 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number15 index14 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">qq = qq-&gt;prox;</code></div><div class="line number16 index15 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number17 index16 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code> <code class="c keyword bold">if</code><code class="c plain">(qq-&gt;expo &lt; pp-&gt;expo){</code></div><div class="line number18 index17 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, pp-&gt;coef, pp-&gt;expo);</code></div><div class="line number19 index18 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number20 index19 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pp = pp-&gt;prox;</code></div><div class="line number21 index20 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number22 index21 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">else</code><code class="c plain">{ </code><code class="c comments">/* pp-&gt;expo == qq-&gt;expo */</code></div><div class="line number23 index22 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">cf = pp-&gt;coef + qq-&gt;coef;</code></div><div class="line number24 index23 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c keyword bold">if</code><code class="c plain">(cf != 0.0){</code></div><div class="line number25 index24 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">InsereTermo(rr, cf, pp-&gt;expo);</code></div><div class="line number26 index25 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">rr = rr-&gt;prox;</code></div><div class="line number27 index26 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number28 index27 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">pp = pp-&gt;prox;</code></div><div class="line number29 index28 alt2"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">qq = qq-&gt;prox;</code></div><div class="line number30 index29 alt1"><code class="c spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">}</code></div><div class="line number33 index32 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">r;</code></div><div class="line number34 index33 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>


<h3>Programa principal:</h3>

Exemplo de programa principal que
chama as funções
anteriores.


  <div><div id="highlighter_638509" class="syntaxhighlighter  c"><div class="toolbar"><span><a href="http://www.vision.ime.usp.br/~pmiranda/mac122_2s14/aulas/aula08/aula08.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="c color1 bold">int</code> <code class="c plain">main(){</code></div><div class="line number2 index1 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">Polinomio p,q,r;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">p = CriaPolinomio(</code><code class="c string">"5.0*x^3 -4.0*x^1 + 2.0*x^0"</code><code class="c plain">);&nbsp; </code></div><div class="line number5 index4 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(p);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">q = CriaPolinomio(</code><code class="c string">"&nbsp; 8.0*x^4 + 2.0*x^3 + 4.0*x^1"</code><code class="c plain">);</code></div><div class="line number8 index7 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(q);</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">r = SomaPolinomios(p, q);</code></div><div class="line number11 index10 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c plain">ImprimePolinomio(r);</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="c spaces">&nbsp;&nbsp;</code><code class="c keyword bold">return</code> <code class="c plain">0;</code></div><div class="line number14 index13 alt1"><code class="c plain">}</code></div></div></td></tr></tbody></table></div></div>

  <br>

  <script src="./aula08_files/shCore.js"></script>
  <script src="./aula08_files/shBrushCpp.js"></script>
  <script>
    SyntaxHighlighter.all()
  </script>



</body></html>